(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(module,exports,__webpack_require__){module.exports={box:"Month_box__6pdkm",selecting:"Month_selecting__2INPc",selected:"Month_selected__1EHrR",upSection:"Month_upSection__3rVvw",monthName:"Month_monthName__3ITeA",bottomSection:"Month_bottomSection__2LMbG",textsBlock:"Month_textsBlock__3sQgM",textDocuments:"Month_textDocuments__1CHmK",textImporto:"Month_textImporto__2EEhA",capacityLevel:"Month_capacityLevel__11Ozp"}},160:function(module,exports,__webpack_require__){module.exports={list:"MonthsList_list__8Hdn2"}},161:function(module,exports,__webpack_require__){__webpack_require__(162),__webpack_require__(240),module.exports=__webpack_require__(241)},241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){__webpack_require__(332)},module)}.call(this,__webpack_require__(242)(module))},332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),client=__webpack_require__(40),dist=__webpack_require__(14),classCallCheck=__webpack_require__(36),createClass=__webpack_require__(26),possibleConstructorReturn=__webpack_require__(39),getPrototypeOf=__webpack_require__(37),assertThisInitialized=__webpack_require__(27),inherits=__webpack_require__(38),underscore=__webpack_require__(75),underscore_default=__webpack_require__.n(underscore),Month_module=__webpack_require__(15),Month_module_default=__webpack_require__.n(Month_module),Month_Month=function(_React$Component){function Month(props){var _this;return Object(classCallCheck.a)(this,Month),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(Month).call(this,props))).state=props,_this.timeoutId=setTimeout(function(){this.setState({animated:!0})}.bind(Object(assertThisInitialized.a)(_this)),300),_this}return Object(inherits.a)(Month,_React$Component),Object(createClass.a)(Month,null,[{key:"monthsList",get:function get(){return["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]}}]),Object(createClass.a)(Month,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){prevProps.documenti===this.props.documenti&&prevProps.importo===this.props.importo&&prevProps.monthNumber===this.props.monthNumber&&prevProps.capacity===this.props.capacity&&prevProps.status===this.props.status&&prevProps.isFirstInSelection===this.props.isFirstInSelection&&prevProps.isLastInSelection===this.props.isLastInSelection||this.setState(underscore_default.a.extend({},this.props))}},{key:"getMonthName",value:function getMonthName(){return this.state.monthNumber>0&&this.state.monthNumber<Month.monthsList.length+1?Month.monthsList[this.state.monthNumber-1]:""}},{key:"getFormattedImporto",value:function getFormattedImporto(){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:2}).format(this.state.importo)}},{key:"getCapacity",value:function getCapacity(){return this.state.capacity>100?100:this.state.capacity<0?0:this.state.animated?this.state.capacity:0}},{key:"getStatus",value:function getStatus(){var status="";switch(this.state.status){case 0:status="";break;case 1:status=Month_module_default.a.selecting;break;case 2:status=Month_module_default.a.selected;break;default:status=""}return status}},{key:"render",value:function render(){return react_default.a.createElement("div",{className:[Month_module_default.a.box,this.getStatus()].join(" "),onPointerDown:this.onMouseDown},react_default.a.createElement("div",{className:Month_module_default.a.upSection},react_default.a.createElement("div",{className:Month_module_default.a.monthName},this.getMonthName())),react_default.a.createElement("div",{className:Month_module_default.a.bottomSection},react_default.a.createElement("div",{className:Month_module_default.a.capacityLevel,style:{height:this.getCapacity()+"%"}}),react_default.a.createElement("div",{className:Month_module_default.a.textsBlock},react_default.a.createElement("div",{className:Month_module_default.a.textDocuments},this.state.documenti," doc."),react_default.a.createElement("div",{className:Month_module_default.a.textImporto},this.getFormattedImporto()))))}}]),Month}(react_default.a.Component),MonthsList_module=__webpack_require__(160),MonthsList_module_default=__webpack_require__.n(MonthsList_module),lib=__webpack_require__(102),SelectableMonth=Object(lib.createSelectable)(function(_ref){var selectableRef=_ref.selectableRef,selected=_ref.selected,selecting=_ref.selecting,month=_ref.month,capacity=_ref.capacity,index=_ref.index;return react_default.a.createElement("div",{ref:selectableRef},react_default.a.createElement(Month_Month,{documenti:month.documenti,importo:month.importo,monthNumber:index+1,key:selectableRef,capacity:capacity,status:selecting?1:selected?2:0}))}),MonthsList_MonthsList=function(_Component){function MonthsList(props){var _this;return Object(classCallCheck.a)(this,MonthsList),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(MonthsList).call(this,props))).handleSelecting=props.handleSelecting,_this.handleSelected=props.handleSelected,_this.state={months:props.months.slice(0,12)},_this}return Object(inherits.a)(MonthsList,_Component),Object(createClass.a)(MonthsList,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){JSON.stringify(prevProps)!==JSON.stringify(this.props)&&this.setState({months:this.props.months.slice(0,12)})}},{key:"render",value:function render(){var monthsMaxImporto=underscore_default.a.max(this.state.months,function(m){return m.importo}).importo;return react_default.a.createElement(lib.SelectableGroup,{ref:function ref(_ref2){return window.selectableGroup=_ref2},className:MonthsList_module_default.a.list,enableDeselect:!0,mixedDeselect:!0,resetOnStart:!0,duringSelection:this.handleSelecting,onSelectionFinish:this.handleSelected},this.state.months.map(function(month,index){return react_default.a.createElement(SelectableMonth,{key:index+1,month:month,capacity:100*month.importo/monthsMaxImporto,index:index})}))}}]),MonthsList}(react.Component),AndamentoMensile_module=__webpack_require__(76),AndamentoMensile_module_default=__webpack_require__.n(AndamentoMensile_module),AndamentoMensile_AndamentoMensile=function(_React$Component){function AndamentoMensile(props){var _this;return Object(classCallCheck.a)(this,AndamentoMensile),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(AndamentoMensile).call(this,props))).state={months:[]},_this.handleSelecting=_this.handleSelecting.bind(Object(assertThisInitialized.a)(_this)),_this.handleSelected=_this.handleSelected.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(AndamentoMensile,_React$Component),Object(createClass.a)(AndamentoMensile,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;fetch("http://staccah.fattureincloud.it/testfrontend/data.json").then(function(response){return response.json()}).then(function(data){return _this2.setState({months:data.mesi})})}},{key:"handleSelecting",value:function handleSelecting(selectingItems){selectingItems.length>1?this.setState({stateMessage:"Rilascia il mouse per completare la selezione"}):1===selectingItems.length&&this.setState({stateMessage:"Trascina per selezionare un intervallo di mesi"})}},{key:"handleSelected",value:function handleSelected(selectedItems){this.setState({stateMessage:""})}},{key:"render",value:function render(){return react_default.a.createElement("div",{className:AndamentoMensile_module_default.a.andamentoMensile},react_default.a.createElement("h1",{className:AndamentoMensile_module_default.a.h1},"Andamento mensile"),react_default.a.createElement(MonthsList_MonthsList,{months:this.state.months,handleSelecting:this.handleSelecting,handleSelected:this.handleSelected}),react_default.a.createElement("div",{className:AndamentoMensile_module_default.a.statusMessage},this.state.stateMessage))}}]),AndamentoMensile}(react_default.a.Component);Object(client.storiesOf)("AndamentoMensile",AndamentoMensile_AndamentoMensile).add("Default",function(){return react_default.a.createElement(AndamentoMensile_AndamentoMensile,null)}),Object(client.storiesOf)("MonthsList",MonthsList_MonthsList).addDecorator(dist.withKnobs).add("Default",function(){return react_default.a.createElement(MonthsList_MonthsList,{months:Object(dist.object)("Mesi",[{documenti:5,importo:100},{documenti:4,importo:200},{documenti:3,importo:300},{documenti:2,importo:400},{documenti:1,importo:500}])})}),Object(client.storiesOf)("Month",Month_Month).addDecorator(dist.withKnobs).add("Default",function(){return react_default.a.createElement(Month_Month,{documenti:Object(dist.number)("Documenti",1),importo:Object(dist.number)("Importo",20),capacity:Object(dist.number)("Percentuale",55),monthNumber:Object(dist.select)("Mese",{Gennaio:1,Febbraio:2,Marzo:3,Aprile:4,Maggio:5,Giugno:6,Luglio:7,Agosto:8,Settembre:9,Ottobre:10,Novembre:11,Dicembre:12},1),isFirstInSelection:Object(dist.select)("isFirstInSelection",{No:!1,Yes:!0},!1),isLastInSelection:Object(dist.select)("isLastInSelection",{No:!1,Yes:!0},!1),status:Object(dist.select)("Status",{None:0,Selecting:1,Selected:2},0)})})},76:function(module,exports,__webpack_require__){module.exports={andamentoMensile:"AndamentoMensile_andamentoMensile__RKWEQ",h1:"AndamentoMensile_h1__30qJ_",statusMessage:"AndamentoMensile_statusMessage__3872y"}}},[[161,1,2]]]);
//# sourceMappingURL=main.a6a553fffcc631bef86c.bundle.js.map